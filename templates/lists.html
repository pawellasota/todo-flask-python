{% extends "base.html" %}

{% block navbar %}
    {{ super() }}
    <a class="btn btn-default button-max-width" href="{{ url_for("list_todo_lists") }}" role="button">List of lists</a>
    <a class="btn btn-default button-max-width" href="{{ url_for("add_list") }}" role="button">Add new list</a>
{% endblock %}
{% block content %}
    {{ super() }}
    <h2 class="content">Your Todo lists</h2>
    {% for list in lists %}
        <a class="btn btn-default btn-large" id="list_{{ list.todo_list_id }}" href="" role="button">{{ list.todo_list_name }}</a>
    {% endfor %}
    <div id="l_content" class="row"></div>

{% endblock %}
{% block scripts %}
{{ super() }}

<script>

$(document).ready(function() {
    $('[id^=list_]').on('click', function (event) {
        event.preventDefault();
        $.ajax({
            data : { list_id: $(this).attr('id') },
            type : 'GET',
            url : '/get_todo_items',
            success : function (data) {
                if (data) {
                    $('div#l_content').html(data)
                }
            },
            error : function () {
                $('div#l_content').innerHTML="Failed to load data"
            }

        });

    });
})
</script>
{% endblock %}